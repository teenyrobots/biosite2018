<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Joyce Rice is a product designer</title>
    <link rel="stylesheet" text="css" href="styles.css">
    <link href="fl/src/featherlight.css" type="text/css" rel="stylesheet" />
    <link href="fl/src/featherlight.gallery.css" type="text/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Muli:200,200i,400,400i, 600" rel="stylesheet">
</head>

<body>
<noscript>
    You need to enable JavaScript to run this app.
</noscript>
<!--HERE IS THE HEADER-->
<header>
    <a href="http://teenyrobots.net">
        <h1>joyce rice</h1>
        <h2>product design <span style="font-style: italic; font-weight: 100;">et al.</span></h2>
    </a>
    <ul>
        <a href="work.html">
            <li class="selected">work</li>
        </a>
        <a href="about.html">
            <li>about</li>
        </a>
        <a href="http://test.teenyrobots.net">
            <li>news</li>
        </a>
        <a href="contact.html">
            <li>contact</li>
        </a>
    </ul>
</header>
<!--THAT'S IT FOR THE HEADER-->

<!--HERE IS THE PROJECT-->
<img src=null id="hero">
<div class="project">
    <div id="copy">
        <h1 id="projectName"></h1>
        <h2 id="projectType"></h2>
        <a href=null target="_blank" id="projectLink"><div class="button" id="projectButton"></div></a>
        <h3>My roles:</h3>
        <p id="projectRoles"></p>
        <h3>Brief:</h3>
        <p id="projectBrief"></p>
        <h3>Product:</h3>
        <p id="projectProduct"></p>
        <!--<h3>Selected Coverage:</h3>-->
        <!--<ul>-->
            <!--<li><img src="assets/logos/npr.png" id="npr"><a href="https://www.npr.org/sections/ed/2017/07/03/533676536/test-your-fake-news-judgement-play-this-game" target="_blank">To Test Your Fake News Judgment, Play This Game</a></li>-->
            <!--<li><img src="assets/logos/newsweek.png" id="newsweek"><a href="http://www.newsweek.com/fake-news-test-donald-trump-thinks-he-can-spot-fact-fiction-can-you-631626">Fake News Test: Donald Trump Thinks He Can Spot Fact From Fiction. Can You?</a></li>-->
            <!--<li><img src="assets/logos/thenextweb.png" id="thenextweb"><a href="https://thenextweb.com/shareables/2017/07/17/learn-to-spot-fake-news-with-this-tinder-style-browser-game/">Learn to spot fake news with this Tinder-style browser game</a></li>-->
        <!--</ul>-->
    </div>
</div>
<!--OKAY PROJECT IS DONE-->


<!--HERE IS THE FOOTER-->
<footer>
    <p>made with care, on the road.</p>
    <p>Drop me a line at joycer at teenyrobots dot net, or catch up with me in one of these fine places:</p>
    <p>here are some fucking icons</p>
</footer>
<!--ALRIGHT THAT'S IT-->

<script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script src="fl/src/featherlight.js" type="text/javascript" charset="utf-8"></script>
<script src="fl/src/featherlight.gallery.js" type="text/javascript" charset="utf-8"></script>

<script>

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    function makeProject(project) {
        //Project Info
        $('#hero').attr('src', '/projects/'+ project.slug +'/hero.jpg');
        $('#projectName').append(project.title);
        $('#projectType').append(project.type);
        $('#projectLink').attr('href', project.link);
        $('#projectButton').append(project.button);
        if (project.client) $('#projectLink').after('<h3>Client:</h3><p>'+project.client+'</p>');
        $('#projectRoles').append(project.myRoles);
        $('#projectBrief').append(project.brief);
        $('#projectProduct').append(project.product);
        if (project.outcome) $('#projectProduct').after('<h3>Outcomes:</h3><p>'+project.outcome+'</p>');

        //SELECTED COVERAGE
        if (project.coverage) {
            var coverage = project.coverage;
            $('#copy').append('<h3>Selected Coverage:</h3><ul id="coverageList"></ul>');
            for (var x=0; x<coverage.length; x++) {
                console.log(coverage[x].outlet);
                $('#coverageList').append('<li><img src="assets/logos/' + coverage[x].outlet + '.png"><a href="' + coverage[x].link + '" target="_blank">To Test Your Fake News Judgment, Play This Game</a></li>\n')
            }
        }

        //Gallery
        if (project.images) {
            $('#copy').after('<section data-featherlight-gallery data-featherlight-filter="a"><div class="thumbs" id="gallery"></div></section>');
            $('#gallery').append('<h4>Gallery</h4>');
            for (var x = 1; x <= project.images; x++) {
                $('#gallery').append('<a href="projects/' + project.slug + '/images/' + x + '.jpg"><img src="projects/' + project.slug + '/thumbs/' + x + '.jpg"></a>');
            }
        }
    }

    $(document).ready(function(){
        var projectSlug = getParameterByName('project');

        $.getJSON('projects.json', function(data) {
            var allProjects = data.projects;

            for (var x=0; x < allProjects.length; x++) {
                if (allProjects[x].slug === projectSlug) {
                    var currentProject = allProjects[x];
                    var slug = currentProject.slug;
                    break;
                }
            }
            if (currentProject) {
                makeProject(currentProject)
            }
        })
    })

</script>

</body>
